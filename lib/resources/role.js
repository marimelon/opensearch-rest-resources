"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.OpenSearchRole = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const constructs_1 = require("constructs");
const common_1 = require("./common");
const custom_resource_1 = require("../custom-resource");
class OpenSearchRole extends constructs_1.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        const { roleName, payload, ...other } = props;
        const resource = new custom_resource_1.OpenSearchCustomResource(this, 'Resource', {
            ...other,
            restEndpoint: `_plugins/_security/api/roles/${roleName}`,
            payloadJson: JSON.stringify((0, common_1.recursiveFromCamelToSnake)(payload)),
        });
        this.roleName = resource.getStringAfterResourceCreation(roleName);
    }
}
exports.OpenSearchRole = OpenSearchRole;
_a = JSII_RTTI_SYMBOL_1;
OpenSearchRole[_a] = { fqn: "opensearch-rest-resources.OpenSearchRole", version: "0.0.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZXNvdXJjZXMvcm9sZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDJDQUF1QztBQUN2QyxxQ0FBd0U7QUFDeEUsd0RBQThEO0FBb0M5RCxNQUFhLGNBQWUsU0FBUSxzQkFBUztJQU0zQyxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQTBCO1FBQ2xFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakIsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxLQUFLLENBQUM7UUFFOUMsTUFBTSxRQUFRLEdBQUcsSUFBSSwwQ0FBd0IsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFO1lBQzlELEdBQUcsS0FBSztZQUNSLFlBQVksRUFBRSxnQ0FBZ0MsUUFBUSxFQUFFO1lBQ3hELFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUEsa0NBQXlCLEVBQUMsT0FBTyxDQUFDLENBQUM7U0FDaEUsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMsOEJBQThCLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEUsQ0FBQzs7QUFsQkgsd0NBbUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5pbXBvcnQgeyBSZXNvdXJjZVByb3BzQmFzZSwgcmVjdXJzaXZlRnJvbUNhbWVsVG9TbmFrZSB9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCB7IE9wZW5TZWFyY2hDdXN0b21SZXNvdXJjZSB9IGZyb20gJy4uL2N1c3RvbS1yZXNvdXJjZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlblNlYXJjaFJvbGVQcm9wcyBleHRlbmRzIFJlc291cmNlUHJvcHNCYXNlIHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoaXMgcm9sZS5cbiAgICovXG4gIHJlYWRvbmx5IHJvbGVOYW1lOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFNlZSBodHRwczovL29wZW5zZWFyY2gub3JnL2RvY3MvbGF0ZXN0L3NlY3VyaXR5L2FjY2Vzcy1jb250cm9sL2FwaS8jY3JlYXRlLXJvbGUgZm9yIHRoZSBkZXRhaWxzLlxuICAgKi9cbiAgcmVhZG9ubHkgcGF5bG9hZDogUm9sZVBheWxvYWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm9sZVBheWxvYWQge1xuICByZWFkb25seSBjbHVzdGVyUGVybWlzc2lvbnM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgaW5kZXhQZXJtaXNzaW9ucz86IEluZGV4UGVybWlzc2lvbnNbXTtcbiAgcmVhZG9ubHkgdGVuYW50UGVybWlzc2lvbnM/OiBUZW5hbnRQZXJtaXNzaW9uc1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEluZGV4UGVybWlzc2lvbnMge1xuICByZWFkb25seSBpbmRleFBhdHRlcm5zPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IGRscz86IHN0cmluZztcbiAgcmVhZG9ubHkgZmxzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IG1hc2tlZEZpZWxkcz86IHN0cmluZ1tdO1xuICAvKipcbiAgICogaHR0cHM6Ly9vcGVuc2VhcmNoLm9yZy9kb2NzL2xhdGVzdC9zZWN1cml0eS9hY2Nlc3MtY29udHJvbC9kZWZhdWx0LWFjdGlvbi1ncm91cHMvXG4gICAqL1xuICByZWFkb25seSBhbGxvd2VkQWN0aW9ucz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRlbmFudFBlcm1pc3Npb25zIHtcbiAgcmVhZG9ubHkgdGVuYW50UGF0dGVybnM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgYWxsb3dlZEFjdGlvbnM/OiBzdHJpbmdbXTtcbn1cblxuZXhwb3J0IGNsYXNzIE9wZW5TZWFyY2hSb2xlIGV4dGVuZHMgQ29uc3RydWN0IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoaXMgcm9sZS5cbiAgICovXG4gIHB1YmxpYyByZWFkb25seSByb2xlTmFtZTogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKHNjb3BlOiBDb25zdHJ1Y3QsIGlkOiBzdHJpbmcsIHByb3BzOiBPcGVuU2VhcmNoUm9sZVByb3BzKSB7XG4gICAgc3VwZXIoc2NvcGUsIGlkKTtcblxuICAgIGNvbnN0IHsgcm9sZU5hbWUsIHBheWxvYWQsIC4uLm90aGVyIH0gPSBwcm9wcztcblxuICAgIGNvbnN0IHJlc291cmNlID0gbmV3IE9wZW5TZWFyY2hDdXN0b21SZXNvdXJjZSh0aGlzLCAnUmVzb3VyY2UnLCB7XG4gICAgICAuLi5vdGhlcixcbiAgICAgIHJlc3RFbmRwb2ludDogYF9wbHVnaW5zL19zZWN1cml0eS9hcGkvcm9sZXMvJHtyb2xlTmFtZX1gLFxuICAgICAgcGF5bG9hZEpzb246IEpTT04uc3RyaW5naWZ5KHJlY3Vyc2l2ZUZyb21DYW1lbFRvU25ha2UocGF5bG9hZCkpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5yb2xlTmFtZSA9IHJlc291cmNlLmdldFN0cmluZ0FmdGVyUmVzb3VyY2VDcmVhdGlvbihyb2xlTmFtZSk7XG4gIH1cbn1cbiJdfQ==