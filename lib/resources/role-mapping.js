"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.OpenSearchRoleMapping = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const constructs_1 = require("constructs");
const common_1 = require("./common");
const custom_resource_1 = require("../custom-resource");
class OpenSearchRoleMapping extends constructs_1.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        const { roleName, payload, ...other } = props;
        const resource = new custom_resource_1.OpenSearchCustomResource(this, 'Resource', {
            ...other,
            restEndpoint: `_plugins/_security/api/rolesmapping/${roleName}`,
            payloadJson: JSON.stringify((0, common_1.recursiveFromCamelToSnake)(payload)),
        });
        this.roleName = resource.getStringAfterResourceCreation(roleName);
    }
}
exports.OpenSearchRoleMapping = OpenSearchRoleMapping;
_a = JSII_RTTI_SYMBOL_1;
OpenSearchRoleMapping[_a] = { fqn: "opensearch-rest-resources.OpenSearchRoleMapping", version: "0.0.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sZS1tYXBwaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL3Jlc291cmNlcy9yb2xlLW1hcHBpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwyQ0FBdUM7QUFDdkMscUNBQXdFO0FBRXhFLHdEQUE4RDtBQW9COUQsTUFBYSxxQkFBc0IsU0FBUSxzQkFBUztJQU1sRCxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQWlDO1FBQ3pFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakIsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxLQUFLLENBQUM7UUFFOUMsTUFBTSxRQUFRLEdBQUcsSUFBSSwwQ0FBd0IsQ0FBQyxJQUFJLEVBQUUsVUFBVSxFQUFFO1lBQzlELEdBQUcsS0FBSztZQUNSLFlBQVksRUFBRSx1Q0FBdUMsUUFBUSxFQUFFO1lBQy9ELFdBQVcsRUFBRSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUEsa0NBQXlCLEVBQUMsT0FBTyxDQUFDLENBQUM7U0FDaEUsQ0FBQyxDQUFDO1FBRUgsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUMsOEJBQThCLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDcEUsQ0FBQzs7QUFsQkgsc0RBbUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29uc3RydWN0IH0gZnJvbSAnY29uc3RydWN0cyc7XG5pbXBvcnQgeyBSZXNvdXJjZVByb3BzQmFzZSwgcmVjdXJzaXZlRnJvbUNhbWVsVG9TbmFrZSB9IGZyb20gJy4vY29tbW9uJztcbmltcG9ydCB7IE9wZW5TZWFyY2hSb2xlIH0gZnJvbSAnLi9yb2xlJztcbmltcG9ydCB7IE9wZW5TZWFyY2hDdXN0b21SZXNvdXJjZSB9IGZyb20gJy4uL2N1c3RvbS1yZXNvdXJjZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgT3BlblNlYXJjaFJvbGVNYXBwaW5nUHJvcHMgZXh0ZW5kcyBSZXNvdXJjZVByb3BzQmFzZSB7XG4gIC8qKlxuICAgKiBUaGUgcm9sZSB5b3UgY3JlYXRlIGEgcm9sZSBtYXBwaW5nIGZvci5cbiAgICogQ3JlYXRlIGEgcm9sZSBieSB7QGxpbmsgT3BlblNlYXJjaFJvbGV9IGNsYXNzLCBvciB1c2UgW2EgcHJlZGVmaW5lZCByb2xlXShodHRwczovL29wZW5zZWFyY2gub3JnL2RvY3MvbGF0ZXN0L3NlY3VyaXR5L2FjY2Vzcy1jb250cm9sL3VzZXJzLXJvbGVzLyNwcmVkZWZpbmVkLXJvbGVzKS5cbiAgICovXG4gIHJlYWRvbmx5IHJvbGVOYW1lOiBzdHJpbmc7XG4gIC8qKlxuICAgKiBTZWUgaHR0cHM6Ly9vcGVuc2VhcmNoLm9yZy9kb2NzL2xhdGVzdC9zZWN1cml0eS9hY2Nlc3MtY29udHJvbC9hcGkvI2NyZWF0ZS1yb2xlLW1hcHBpbmcgZm9yIHRoZSBkZXRhaWxzLlxuICAgKi9cbiAgcmVhZG9ubHkgcGF5bG9hZDogUm9sZU1hcHBpbmdQYXlsb2FkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJvbGVNYXBwaW5nUGF5bG9hZCB7XG4gIHJlYWRvbmx5IGJhY2tlbmRSb2xlcz86IHN0cmluZ1tdO1xuICByZWFkb25seSBob3N0cz86IHN0cmluZ1tdO1xuICByZWFkb25seSB1c2Vycz86IHN0cmluZ1tdO1xufVxuXG5leHBvcnQgY2xhc3MgT3BlblNlYXJjaFJvbGVNYXBwaW5nIGV4dGVuZHMgQ29uc3RydWN0IHtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIG9mIHRoZSBPcGVuU2VhcmNoIHJvbGUgdGhpcyBtYXBwaW5nIGlzIGNyZWF0ZWQgZm9yLlxuICAgKi9cbiAgcHVibGljIHJlYWRvbmx5IHJvbGVOYW1lOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3Ioc2NvcGU6IENvbnN0cnVjdCwgaWQ6IHN0cmluZywgcHJvcHM6IE9wZW5TZWFyY2hSb2xlTWFwcGluZ1Byb3BzKSB7XG4gICAgc3VwZXIoc2NvcGUsIGlkKTtcblxuICAgIGNvbnN0IHsgcm9sZU5hbWUsIHBheWxvYWQsIC4uLm90aGVyIH0gPSBwcm9wcztcblxuICAgIGNvbnN0IHJlc291cmNlID0gbmV3IE9wZW5TZWFyY2hDdXN0b21SZXNvdXJjZSh0aGlzLCAnUmVzb3VyY2UnLCB7XG4gICAgICAuLi5vdGhlcixcbiAgICAgIHJlc3RFbmRwb2ludDogYF9wbHVnaW5zL19zZWN1cml0eS9hcGkvcm9sZXNtYXBwaW5nLyR7cm9sZU5hbWV9YCxcbiAgICAgIHBheWxvYWRKc29uOiBKU09OLnN0cmluZ2lmeShyZWN1cnNpdmVGcm9tQ2FtZWxUb1NuYWtlKHBheWxvYWQpKSxcbiAgICB9KTtcblxuICAgIHRoaXMucm9sZU5hbWUgPSByZXNvdXJjZS5nZXRTdHJpbmdBZnRlclJlc291cmNlQ3JlYXRpb24ocm9sZU5hbWUpO1xuICB9XG59XG4iXX0=