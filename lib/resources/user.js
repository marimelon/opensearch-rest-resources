"use strict";
var _a;
Object.defineProperty(exports, "__esModule", { value: true });
exports.OpenSearchUser = void 0;
const JSII_RTTI_SYMBOL_1 = Symbol.for("jsii.rtti");
const constructs_1 = require("constructs");
const common_1 = require("./common");
const custom_resource_1 = require("../custom-resource");
class OpenSearchUser extends constructs_1.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        const { userName, payload, ...other } = props;
        // we won't convert casing for attributes
        const exclude = { attributes: true };
        const resource = new custom_resource_1.OpenSearchCustomResource(this, 'Resource', {
            ...other,
            restEndpoint: `_plugins/_security/api/internalusers/${userName}`,
            payloadJson: JSON.stringify((0, common_1.recursiveFromCamelToSnake)(payload, exclude)),
        });
        this.userName = resource.getStringAfterResourceCreation(userName);
    }
}
exports.OpenSearchUser = OpenSearchUser;
_a = JSII_RTTI_SYMBOL_1;
OpenSearchUser[_a] = { fqn: "opensearch-rest-resources.OpenSearchUser", version: "0.0.0" };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidXNlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9yZXNvdXJjZXMvdXNlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLDJDQUF1QztBQUN2QyxxQ0FBd0U7QUFDeEUsd0RBQThEO0FBc0I5RCxNQUFhLGNBQWUsU0FBUSxzQkFBUztJQU0zQyxZQUFZLEtBQWdCLEVBQUUsRUFBVSxFQUFFLEtBQTBCO1FBQ2xFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFFakIsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsR0FBRyxLQUFLLEVBQUUsR0FBRyxLQUFLLENBQUM7UUFFOUMseUNBQXlDO1FBQ3pDLE1BQU0sT0FBTyxHQUFHLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBVyxDQUFDO1FBRTlDLE1BQU0sUUFBUSxHQUFHLElBQUksMENBQXdCLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRTtZQUM5RCxHQUFHLEtBQUs7WUFDUixZQUFZLEVBQUUsd0NBQXdDLFFBQVEsRUFBRTtZQUNoRSxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFBLGtDQUF5QixFQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztTQUN6RSxDQUFDLENBQUM7UUFFSCxJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQyw4QkFBOEIsQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUNwRSxDQUFDOztBQXJCSCx3Q0FzQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcbmltcG9ydCB7IFJlc291cmNlUHJvcHNCYXNlLCByZWN1cnNpdmVGcm9tQ2FtZWxUb1NuYWtlIH0gZnJvbSAnLi9jb21tb24nO1xuaW1wb3J0IHsgT3BlblNlYXJjaEN1c3RvbVJlc291cmNlIH0gZnJvbSAnLi4vY3VzdG9tLXJlc291cmNlJztcblxuZXhwb3J0IGludGVyZmFjZSBPcGVuU2VhcmNoVXNlclByb3BzIGV4dGVuZHMgUmVzb3VyY2VQcm9wc0Jhc2Uge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhpcyB1c2VyLlxuICAgKi9cbiAgcmVhZG9ubHkgdXNlck5hbWU6IHN0cmluZztcblxuICAvKipcbiAgICogU2VlIGh0dHBzOi8vb3BlbnNlYXJjaC5vcmcvZG9jcy9sYXRlc3Qvc2VjdXJpdHkvYWNjZXNzLWNvbnRyb2wvYXBpLyNjcmVhdGUtdXNlciBmb3IgdGhlIGRldGFpbHMuXG4gICAqL1xuICByZWFkb25seSBwYXlsb2FkOiBVc2VyUGF5bG9hZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyUGF5bG9hZCB7XG4gIHJlYWRvbmx5IHBhc3N3b3JkPzogc3RyaW5nO1xuICByZWFkb25seSBoYXNoPzogc3RyaW5nO1xuICByZWFkb25seSBvcGVuZGlzdHJvU2VjdXJpdHlSb2xlcz86IHN0cmluZ1tdO1xuICByZWFkb25seSBiYWNrZW5kUm9sZXM/OiBzdHJpbmdbXTtcbiAgcmVhZG9ubHkgYXR0cmlidXRlcz86IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH07XG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuU2VhcmNoVXNlciBleHRlbmRzIENvbnN0cnVjdCB7XG4gIC8qKlxuICAgKiBUaGUgbmFtZSBvZiB0aGlzIHVzZXIuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgdXNlck5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogT3BlblNlYXJjaFVzZXJQcm9wcykge1xuICAgIHN1cGVyKHNjb3BlLCBpZCk7XG5cbiAgICBjb25zdCB7IHVzZXJOYW1lLCBwYXlsb2FkLCAuLi5vdGhlciB9ID0gcHJvcHM7XG5cbiAgICAvLyB3ZSB3b24ndCBjb252ZXJ0IGNhc2luZyBmb3IgYXR0cmlidXRlc1xuICAgIGNvbnN0IGV4Y2x1ZGUgPSB7IGF0dHJpYnV0ZXM6IHRydWUgfSBhcyBjb25zdDtcblxuICAgIGNvbnN0IHJlc291cmNlID0gbmV3IE9wZW5TZWFyY2hDdXN0b21SZXNvdXJjZSh0aGlzLCAnUmVzb3VyY2UnLCB7XG4gICAgICAuLi5vdGhlcixcbiAgICAgIHJlc3RFbmRwb2ludDogYF9wbHVnaW5zL19zZWN1cml0eS9hcGkvaW50ZXJuYWx1c2Vycy8ke3VzZXJOYW1lfWAsXG4gICAgICBwYXlsb2FkSnNvbjogSlNPTi5zdHJpbmdpZnkocmVjdXJzaXZlRnJvbUNhbWVsVG9TbmFrZShwYXlsb2FkLCBleGNsdWRlKSksXG4gICAgfSk7XG5cbiAgICB0aGlzLnVzZXJOYW1lID0gcmVzb3VyY2UuZ2V0U3RyaW5nQWZ0ZXJSZXNvdXJjZUNyZWF0aW9uKHVzZXJOYW1lKTtcbiAgfVxufVxuIl19