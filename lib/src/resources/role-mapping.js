"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.OpenSearchRoleMapping = void 0;
const constructs_1 = require("constructs");
const common_1 = require("./common");
const custom_resource_1 = require("../custom-resource");
class OpenSearchRoleMapping extends constructs_1.Construct {
    constructor(scope, id, props) {
        super(scope, id);
        const { roleName, payload, ...other } = props;
        const resource = new custom_resource_1.OpenSearchCustomResource(this, 'Resource', {
            ...other,
            restEndpoint: `_plugins/_security/api/rolesmapping/${roleName}`,
            payloadJson: JSON.stringify((0, common_1.recursiveFromCamelToSnake)(payload)),
        });
        this.roleName = resource.getStringAfterResourceCreation(roleName);
    }
}
exports.OpenSearchRoleMapping = OpenSearchRoleMapping;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9sZS1tYXBwaW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL3Jlc291cmNlcy9yb2xlLW1hcHBpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7O0FBQUEsMkNBQXVDO0FBQ3ZDLHFDQUF3RTtBQUV4RSx3REFBOEQ7QUFvQjlELE1BQWEscUJBQXNCLFNBQVEsc0JBQVM7SUFNbEQsWUFBWSxLQUFnQixFQUFFLEVBQVUsRUFBRSxLQUFpQztRQUN6RSxLQUFLLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBRWpCLE1BQU0sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEdBQUcsS0FBSyxFQUFFLEdBQUcsS0FBSyxDQUFDO1FBRTlDLE1BQU0sUUFBUSxHQUFHLElBQUksMENBQXdCLENBQUMsSUFBSSxFQUFFLFVBQVUsRUFBRTtZQUM5RCxHQUFHLEtBQUs7WUFDUixZQUFZLEVBQUUsdUNBQXVDLFFBQVEsRUFBRTtZQUMvRCxXQUFXLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFBLGtDQUF5QixFQUFDLE9BQU8sQ0FBQyxDQUFDO1NBQ2hFLENBQUMsQ0FBQztRQUVILElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDLDhCQUE4QixDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7Q0FDRjtBQW5CRCxzREFtQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25zdHJ1Y3QgfSBmcm9tICdjb25zdHJ1Y3RzJztcbmltcG9ydCB7IFJlc291cmNlUHJvcHNCYXNlLCByZWN1cnNpdmVGcm9tQ2FtZWxUb1NuYWtlIH0gZnJvbSAnLi9jb21tb24nO1xuaW1wb3J0IHsgT3BlblNlYXJjaFJvbGUgfSBmcm9tICcuL3JvbGUnO1xuaW1wb3J0IHsgT3BlblNlYXJjaEN1c3RvbVJlc291cmNlIH0gZnJvbSAnLi4vY3VzdG9tLXJlc291cmNlJztcblxuZXhwb3J0IGludGVyZmFjZSBPcGVuU2VhcmNoUm9sZU1hcHBpbmdQcm9wcyBleHRlbmRzIFJlc291cmNlUHJvcHNCYXNlIHtcbiAgLyoqXG4gICAqIFRoZSByb2xlIHlvdSBjcmVhdGUgYSByb2xlIG1hcHBpbmcgZm9yLlxuICAgKiBDcmVhdGUgYSByb2xlIGJ5IHtAbGluayBPcGVuU2VhcmNoUm9sZX0gY2xhc3MsIG9yIHVzZSBbYSBwcmVkZWZpbmVkIHJvbGVdKGh0dHBzOi8vb3BlbnNlYXJjaC5vcmcvZG9jcy9sYXRlc3Qvc2VjdXJpdHkvYWNjZXNzLWNvbnRyb2wvdXNlcnMtcm9sZXMvI3ByZWRlZmluZWQtcm9sZXMpLlxuICAgKi9cbiAgcmVhZG9ubHkgcm9sZU5hbWU6IHN0cmluZztcbiAgLyoqXG4gICAqIFNlZSBodHRwczovL29wZW5zZWFyY2gub3JnL2RvY3MvbGF0ZXN0L3NlY3VyaXR5L2FjY2Vzcy1jb250cm9sL2FwaS8jY3JlYXRlLXJvbGUtbWFwcGluZyBmb3IgdGhlIGRldGFpbHMuXG4gICAqL1xuICByZWFkb25seSBwYXlsb2FkOiBSb2xlTWFwcGluZ1BheWxvYWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUm9sZU1hcHBpbmdQYXlsb2FkIHtcbiAgcmVhZG9ubHkgYmFja2VuZFJvbGVzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IGhvc3RzPzogc3RyaW5nW107XG4gIHJlYWRvbmx5IHVzZXJzPzogc3RyaW5nW107XG59XG5cbmV4cG9ydCBjbGFzcyBPcGVuU2VhcmNoUm9sZU1hcHBpbmcgZXh0ZW5kcyBDb25zdHJ1Y3Qge1xuICAvKipcbiAgICogVGhlIG5hbWUgb2YgdGhlIE9wZW5TZWFyY2ggcm9sZSB0aGlzIG1hcHBpbmcgaXMgY3JlYXRlZCBmb3IuXG4gICAqL1xuICBwdWJsaWMgcmVhZG9ubHkgcm9sZU5hbWU6IHN0cmluZztcblxuICBjb25zdHJ1Y3RvcihzY29wZTogQ29uc3RydWN0LCBpZDogc3RyaW5nLCBwcm9wczogT3BlblNlYXJjaFJvbGVNYXBwaW5nUHJvcHMpIHtcbiAgICBzdXBlcihzY29wZSwgaWQpO1xuXG4gICAgY29uc3QgeyByb2xlTmFtZSwgcGF5bG9hZCwgLi4ub3RoZXIgfSA9IHByb3BzO1xuXG4gICAgY29uc3QgcmVzb3VyY2UgPSBuZXcgT3BlblNlYXJjaEN1c3RvbVJlc291cmNlKHRoaXMsICdSZXNvdXJjZScsIHtcbiAgICAgIC4uLm90aGVyLFxuICAgICAgcmVzdEVuZHBvaW50OiBgX3BsdWdpbnMvX3NlY3VyaXR5L2FwaS9yb2xlc21hcHBpbmcvJHtyb2xlTmFtZX1gLFxuICAgICAgcGF5bG9hZEpzb246IEpTT04uc3RyaW5naWZ5KHJlY3Vyc2l2ZUZyb21DYW1lbFRvU25ha2UocGF5bG9hZCkpLFxuICAgIH0pO1xuXG4gICAgdGhpcy5yb2xlTmFtZSA9IHJlc291cmNlLmdldFN0cmluZ0FmdGVyUmVzb3VyY2VDcmVhdGlvbihyb2xlTmFtZSk7XG4gIH1cbn1cbiJdfQ==